---
trigger: always_on
---

# 项目背景与业务逻辑 (Project Context)

## 1. 项目简介
"LearnHub" 是一个自托管的个人学习平台，旨在替代商业化的笔记与刷题软件。
- **受众**: 个人与家庭用户，多用户隔离。
- **部署**: Docker Compose (群晖 NAS)。

## 2. 核心模块
1.  **笔记管理**: 类似于 Notion/Obsidian。支持 Markdown，双向链接，全文检索 (Meilisearch)。
2.  **OCR 服务**: 图片转文字。后端仅负责调度，实际识别调用本地 Python 容器 (PaddleOCR) 或云服务。
3.  **考试系统**: 支持单选、多选、填空、简答。包含错题本逻辑和自动/手动判分。
4.  **监控系统**: 监控外部网站及自身容器健康状态 (HTTP/TCP/Ping)。
5.  **日程待办**: 看板、番茄钟、重复任务。

## 3. 关键业务规则
- **数据隔离**: 必须通过 `owner_id` 实现严格的行级隔离。普通用户只能访问自己的数据。
- **离线优先**: 前端支持离线编辑，后端需处理数据同步与冲突解决（Last Write Wins 或 冲突标记）。